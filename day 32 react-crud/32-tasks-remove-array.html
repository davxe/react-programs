<html>
    <head>
        <title></title>
    </head>
    <body>
        <div id="root">

        </div>
        <script src = '/media/davxe/edrive/sem 8/training/mern-stack/react/js/react.development.js'></script>
        <script src = '/media/davxe/edrive/sem 8/training/mern-stack/react/js/react-dom.development.js'></script>
        <script src = '/media/davxe/edrive/sem 8/training/mern-stack/react/js/babel.js'></script>

        <script type='text/babel'>
            const rootHandle=document.getElementById('root')
            class TasksList extends React.Component {
            constructor() {
                super() 
                this.state = {
                    tasks: [
                        { id: 1, title: 'db back', completed: false},
                        { id: 2, title: 'server setup', completed: true }
                    ]
                }
            }

            handleClick=(task)=>{
                console.log(task)
                alert(`id - ${task.id}, title - ${task.title}, completed - ${task.completed}`)

            }

            handleRemove=(id)=>{
                const confirm=window.confirm('are you sure ?')
                if(confirm)
                {
                    this.setState(function(prevState)
                    {
                        return {
                            tasks:prevState.tasks.filter( task => task.id != id)
                        }
                    })
                }
            }


           
            render() {
                return (
                    <div> 
                        <h2> Listing Tasks - { this.state.tasks.length } </h2> 
                        <table border="1">
                            <thead>
                                <tr>
                                    <th> sl no </th> 
                                    <th> title </th> 
                                    <th> actions </th> 
                                </tr> 
                            </thead> 
                            <tbody>
                                {
                                    this.state.tasks.map((task, i) => {
                                        return (
                                            <tr key={task.id}>
                                                <td> { i + 1} </td> 
                                                <td> { task.title } </td> 
                                                <td><button onClick={()=>{
                                                    this.handleClick(task)
                                                }}>show</button><button onClick={()=>{this.handleRemove(task.id)}}>remove</button></td> 
                                            </tr> 
                                        )
                                    })
                                }
                            </tbody> 
                        </table> 
                    </div> 
                )
            }
        }

        ReactDOM.render(<TasksList />, rootHandle)
            
        </script>

    </body>
</html>